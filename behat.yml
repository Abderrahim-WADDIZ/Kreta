# This file belongs to Kreta.
# The source code of application includes a LICENSE file
# with all information about license.
#
# @author benatespina <benatespina@gmail.com>
# @author gorkalaucirica <gorka.lauzirika@gmail.com>

default:
    formatters:
        pretty:
            verbose:  true
            paths:    false
            snippets: false

    suites:
        issue:
            contexts:
                - Kreta\Bundle\CoreBundle\Behat\UserContext
                - Kreta\Bundle\CoreBundle\Behat\StatusContext
                - Kreta\Bundle\CoreBundle\Behat\ProjectContext
                - Kreta\Bundle\CoreBundle\Behat\ParticipantContext
                - Kreta\Bundle\CoreBundle\Behat\IssueContext
                - Kreta\Bundle\WebBundle\Behat\DefaultContext
            filters:
                tags: "@issue"

        project:
            contexts:
                - Kreta\Bundle\CoreBundle\Behat\UserContext
                - Kreta\Bundle\CoreBundle\Behat\StatusContext
                - Kreta\Bundle\CoreBundle\Behat\ProjectContext
                - Kreta\Bundle\CoreBundle\Behat\ParticipantContext
                - Kreta\Bundle\WebBundle\Behat\DefaultContext
            filters:
                tags: "@project"

        notification:
            contexts:
                - Kreta\Bundle\CoreBundle\Behat\UserContext
                - Kreta\Bundle\CoreBundle\Behat\ProjectContext
                - Kreta\Bundle\NotificationBundle\Behat\NotificationContext
                - Kreta\Bundle\WebBundle\Behat\DefaultContext
            filters:
                tags: "@notification"

    extensions:
        Behat\MinkExtension:
            base_url: http://kreta.localhost/app_test.php
            sessions:
                default:
                    symfony2: ~
            browser_name: firefox
            show_auto:    false
        Behat\Symfony2Extension: ~

        VIPSoft\CodeCoverageExtension\Extension:
            create:
                method:   POST
                path:     /
            read:
                method:   GET
                path:     /
            delete:
                method:   DELETE
                path:     /
            drivers:
                - remote
                - local
            filter:
                blacklist:
                    include:
                        directories:
                            'app': ~
                            'vendor': ~
            report:
                format: clover
                options:
                    target: behat-coverage.xml
